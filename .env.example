# ============================================================================
# EDS Avatar BFF Environment Configuration
# ============================================================================

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------
# Host interface to bind to (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
HOST=0.0.0.0

# Port number for the BFF server (1-65535)
PORT=3001

# Runtime environment (development, production, test)
NODE_ENV=development

# Logging level (trace, debug, info, warn, error, fatal)
# Default: 'debug' in development, 'info' in production
# - trace: Most verbose, includes all debug info and trace-level details
# - debug: Detailed debugging information (recommended for development)
# - info: General informational messages (recommended for production)
# - warn: Warning messages for potentially harmful situations
# - error: Error messages for failures that need attention
# - fatal: Critical errors that may cause the application to stop
LOG_LEVEL=debug

# ----------------------------------------------------------------------------
# JWT Authentication Configuration
# ----------------------------------------------------------------------------
# JWT secret key for token signing (minimum 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-here

# JWT token issuer (your Auth0 domain or BFF identifier)
# Examples: https://your-tenant.auth0.com/, eds-avatar-bff
JWT_ISSUER=eds-avatar-bff

# JWT token audience (your API identifier or frontend identifier)
# Examples: https://your-api.com/api/v2/, eds-avatar-frontend
JWT_AUDIENCE=eds-avatar-frontend

# ----------------------------------------------------------------------------
# JWT Cipher Configuration
# ----------------------------------------------------------------------------
# Primary algorithm for JWT token generation
# Options: HS256, HS384, HS512, RS256, RS384, RS512, ES256, ES384, ES512
JWT_ALGORITHM=RS256

# Comma-separated list of allowed algorithms for token verification
# Examples: RS256,HS256 | HS256 | RS256,RS384,RS512
JWT_VERIFY_ALGORITHMS=RS256,HS256

# Maximum number of JWKS cache entries (1-100)
JWKS_CACHE_MAX_ENTRIES=5

# JWKS cache lifetime in milliseconds (60000-3600000 = 1min-1hour)
# 600000 = 10 minutes
JWKS_CACHE_MAX_AGE_MS=600000

# JWKS request timeout in milliseconds (5000-60000 = 5sec-1min)
# 30000 = 30 seconds
JWKS_REQUEST_TIMEOUT_MS=30000

# ----------------------------------------------------------------------------
# Deepgram Configuration
# ----------------------------------------------------------------------------
# Deepgram API key from https://console.deepgram.com/
DEEPGRAM_API_KEY=your-deepgram-api-key-here

# Optional: Explicit Deepgram Project ID
# If not set, the BFF will automatically use the first project from your account
# Format: 8-character hex string (e.g., 12345678)
# Get from: https://console.deepgram.com/ > Project Settings > Project ID
# DEEPGRAM_PROJECT_ID=

# Token time-to-live in minutes (1-1440 = 1min-24hours)
# 15 = 15 minutes
DEEPGRAM_TOKEN_TTL_MINUTES=15

# ----------------------------------------------------------------------------
# Rate Limiting Configuration
# ----------------------------------------------------------------------------
# Rate limit window in milliseconds (60000-3600000 = 1min-1hour)
# 900000 = 15 minutes
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window (1-1000)
# 100 = 100 requests per 15 minutes
RATE_LIMIT_MAX_REQUESTS=100